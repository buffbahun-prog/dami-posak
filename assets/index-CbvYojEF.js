(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();let i=!1,l=null;"BarcodeDetector"in globalThis?(console.log("Barcode Detector supported!"),l=new BarcodeDetector({formats:["qr_code"]})):console.log("Barcode Detector is not supported by this browser.");const c=document.getElementById("video");function f(){navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(t=>{c&&(c.srcObject=t,c.play(),c.addEventListener("loadeddata",()=>u(t)))}).catch(t=>{console.error("Error accessing camera:",t)})}let d=!1;function u(t){g(t)}function g(t){const o=setInterval(async()=>{if(!d){d=!0,console.log("here");try{if(!l||!c)return;(await l.detect(c)).forEach(n=>{console.log("Barcode detected:",n.rawValue),t.getTracks().forEach(e=>e.stop())}),t.getTracks().every(n=>n.readyState==="ended")&&clearInterval(o)}catch(s){console.error("Barcode detection failed:",s)}finally{d=!1}}},100)}const p=document.getElementById("btn");p?.addEventListener("click",()=>{if(!i)return;const t=c?.srcObject;t?.getTracks()?.forEach(o=>o.stop()),console.log(t?.getTracks()),i=!1});const m=document.getElementById("stbtn");m?.addEventListener("click",()=>{i||(f(),i=!0)});
